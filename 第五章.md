# 1分别说明图5.6– 5.9中四种结构中每个芯片包含冯·诺依曼结构五个部分的哪部分功能。
```
5.6: CPU-GPU-北桥-南桥结构
CPU: 包含了运算器和控制器和存储器高速缓存的功能。
GPU：包含了图形的控制/运算/IO的功能.
北桥：包含了存储器和IO的功能。
南桥：包含了IO和只读存储器的功能。

5.7: CPU-北桥-南桥结构
CPU: 包含了运算器和控制器和存储器高速缓存的功能。
北桥: 包含了图形的IO/存储器/IO的功能。
南桥: 包含了IO和只读存储器功能。

5.8: CPU -弱北桥 -南桥结构
CPU: 包含了运算器和控制器和存储器和高速缓存的功能。
弱北桥: 包含了图形控制/运算/IO和IO的功能。
南桥: 包含了IO和只读存储器的功能。

5.9: CPU - 南桥结构
CPU:包含了运算器/控制器/ 存储器高速缓存/控制/ 图形控制/运算/IO的功能。
南桥: 包含了IO和只读存储器的功能。
```
# 2 查阅资料，比较Skylake处理器和Zen处理器的运算器结构。

资料来源:
[Skylaze](https://en.wikichip.org/wiki/intel/microarchitectures/skylake_(client))
[Zen](https://en.wikichip.org/wiki/amd/microarchitectures/zen)

```

Skylake处理器:
4 int ALU,集合了int float vector运算;
每一个port都不同;

Zen处理器:
4 int ALU,其中int float分开运算,float集合了vector运算;
每一个port都相同;
```
# 3 说明ROB、保留站（发射队列）、重命名寄存器在指令流水线中的作用，并查阅资料，比较Skylake处理器和Zen处理器的ROB、发射队列、重命名寄存器项数。

[Skylake](https://www.csl.cornell.edu/courses/ece4750/handouts/fa22/ece4750-section-skylake.pdf)

```
ROB:维护指令的有序结束.
保留站(发射队列):存储等待执行的指令，控制指令何时执行。
重命名寄存器:负责管理和维护逻辑寄存器与物理寄存器之间的映射，通过对逻辑寄存器的重命名，实现指令间依赖的消除，并完成乱序调度。

```

|    | Skylaze   | Zen  |
| -------- | -------- | ----- |
| ROB| 224 ops  | 256 ops |
| 保留站(发射队列) | 97 entries | 192 entries   |
|重命名寄存器|   180 regs    |   168 regs    |

# 4  假设A处理器有两级Cache，一级Cache大小为32KB，命中率为95%，命中延迟为1拍；二级Cache大小为1MB，命中率为80%，命中延迟为30拍，失效延迟为150拍。B处理器有三级Cache，一级Cache大小为32KB，命中率为95%，命中延迟为1拍；二级Cache大小为256KB，命中率为75%，命中延迟为20拍；三级Cache大小为4MB，命中率为80%，命中延迟为50拍，失效延迟为150拍。比较两款处理器的平均访问延迟。
```
A 平均访问延迟:0.95*1+0.05*(0.8*30+0.2*150)=3.65
B 平均访问延迟:0.95*1.0+0.05*0.75*20+0.05*0.25*(0.8*50+0.2*150)=2.575
A比B平均访问延迟大
```
# 5 假设某内存访问，行关闭、打开、读写各需要两拍，在行缓存命中率为70%和30%的情况下，采用open page模式还是close page模式性能更高？
```
命中率70%:
open page:0.7*2+0.3*(2+2+2)=3.2
close page:2+2=4
命中率30%:
open page:0.3*2+(2+2+2)*0.7=4.8
close page:2+2=4
命中率70%选择 open page 模式，命中率30%选择close page模式
```
# 6 简要说明处理器和IO设备之间的两种通信方式的通信过程
```
1)内存映射IO:把IO寄存器的地址映射到内存地址空间中，处理器访问内存地址空间，经过映射寻找到IO寄存器的地址
2)特殊IO指令:使用专用指令来执行IO操作
```
# 7 简要说明处理器和IO设备之间的两种同步方式的同步过程。
```
1)查询:处理器向IO设备发出访问请求后，需要不断读取IO设备的状态寄存器，直到读取到结果
2)中断:IO设备对处理器发出的一个信号，让处理器知道此时有数据传输需要或者已经发生数据传输。CPU收到中断信号后，会暂停当前CPU的执行进程，转去执行某个特定的程序。
```
# 8 在一个两片系统中，CPU含内存控制器，桥片含GPU、DC和显存，简要说明在PPT翻页过程中，CPU、GPU、DC、显存、内存之间的同步和通信过程。
```
通过输入设备(键盘/鼠标)执行PPT翻页，发出中断信号给CPU中断控制器，中断控制器向CPU发出请求，CPU发出中断响应，并读取中断类型码，CPU通过内存控制器访问内存，查找PPT下一页的内存地址，GPU和显存会加速渲染PPT页面的图形渲染，渲染结束后，将图形数据传输给DC，通过DC输出PPT下一页的页面，DC输出完以后向CPU发出中断信号，CPU从中断服务程序返回，中断结束。
```
# 9 调查目前市场主流光盘、硬盘、SSD盘、内存的价格，并计算每GB存储容量的价格。


|     | 容量   | 价格 | 每GB存储容量的价格|
| -------- | -------- | ----- |--------|
| 光盘(联想DVD-R) |  4.7GB   | 1.78| 0.38|
| 硬盘 (惠普P500)| 500GB| 358   |0.716
|SSD盘(三星 PM983)|1.92TB|119$ |0.06$ |
|内存(三星DDR4)|8GB|259|32.375|


